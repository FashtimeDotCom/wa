{% extends "layouts/admin_base.html" %}

{% block body %}
<div class="container">
    <div class="table_tit">文章列表</div>
    <div class="table_con">
        <table class="table" border="0" cellspacing="0" cellpadding="0">
            <thead>
            <tr>
                <th>序号</th>
                <th>文章类型</th>
                <th>文章标题</th>
                <th>显示状态</th>
                <th>更新时间</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            {% for page in pagination.items  %}
            <tr>
                <td><b>{{ loop.index }}</b></td>
                <td><b>{{ config['news_cate'].get(page.category_id) }}</b></td>
                <td>{{ page.title }}</td>
                <td>
                    {% if page.is_hide == 1 %}
                    隐藏
                    {% else %}
                    显示
                    {% endif %}
                </td>
                <td>{{ page.add_time }}</td>
                <td><a href="{{ url_for('admin.news_edit', news_id=page.id) }}">编辑</a></td>
            </tr>
            {% endfor %}
            </tbody>
        </table>
        <div class="pagination">
            <ul>
                <li><a href="{{ url_for('admin.index') }}?page=1">首页</a></li>
                {% if pagination.has_pre %}
                <li><a href="{{ url_for('admin.index') }}?page={{ pagination.prev }}">上一页</a></li>
                {% endif %}
                {% for page in pagination.iter_pages() %}
                {% if not page %}
                <li><a>...</a></li>
                {% elif page == pagination.page %}
                <li class="active">
                    <a href=""> {{ page }}</a>
                </li>
                {% else %}
                <li><a href="{{ url_for('admin.index') }}?page={{ page }}">{{ page }}</a></li>
                {% endif %}
                {% endfor %}
                {% if pagination.has_next %}
                <li><a href="{{ url_for('admin.index') }}?page={{ pagination.next_num }}">下一页</a></li>
                {% endif %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
